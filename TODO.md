# ๐ TODO List - GPS Tracking System

## ๐ด ุงูููุช ุจุงูุง (High Priority)

### 1. ูพุงุฏูโุณุงุฒ ุชูุงู ุงููุงุน ูพฺฉุชโูุง HQ Protocol
- [ ] **V0 (LBS Only)** - ูููุนุช ุชูุฑุจ ุงุฒ ุขูุชู ููุจุงู
  - [ ] ุงุถุงูู ฺฉุฑุฏู ุจููฺฉ V0 ุฏุฑ `gps_receiver.py`
  - [ ] ุงุณุชูุงุฏู ุงุฒ LBS Resolution ุจุฑุง ุชุจุฏู MCC/MNC/LAC/CID ุจู lat/lon
  - [ ] ุฐุฎุฑู ุฏุฑ LocationData ุจุง `location_source = 'LBS'`
  - [ ] ุชุณุช ุจุง ุฏุณุชฺฏุงู ุฏุฑ ูุญุท ุจุณุชู (ุจุฏูู GPS)

- [ ] **SOS (Emergency Alert)** - ุฏฺฉูู ุงุถุทุฑุงุฑ
  - [ ] ุงุถุงูู ฺฉุฑุฏู ุจููฺฉ SOS ุฏุฑ `gps_receiver.py`
  - [ ] ุฐุฎุฑู ุฏุฑ LocationData
  - [ ] ุงุฌุงุฏ ุณุณุชู ุงุนูุงู ููุฑ (WebSocket/Email/SMS)
  - [ ] ููุงุด ุขฺฉูู SOS ุฑู ููุดู
  - [ ] ูุงฺฏ ฺฉุฑุฏู ุชุงุฑุฎฺู SOS

- [ ] **V2 (Alarm)** - ุขูุงุฑูโูุง ู ูุดุฏุงุฑูุง
  - [ ] ุงุถุงูู ฺฉุฑุฏู ุจููฺฉ V2 ุฏุฑ `gps_receiver.py`
  - [ ] ุงุฌุงุฏ ูุฏู `Alert` ุจุฑุง ุฐุฎุฑู ุขูุงุฑูโูุง
  - [ ] ุชุดุฎุต ููุน ุขูุงุฑู (geofence, overspeed, low_battery, ...)
  - [ ] ููุงุด ุขูุงุฑูโูุง ุฏุฑ ูพูู ุงุฏูู
  - [ ] ุงุฑุณุงู ุงุนูุงู ุจู ฺฉุงุฑุจุฑ

- [ ] **UPLOAD (Batch Upload)** - ุงุฑุณุงู ุฏุณุชูโุง
  - [ ] ุงุถุงูู ฺฉุฑุฏู ุจููฺฉ UPLOAD ุฏุฑ `gps_receiver.py`
  - [ ] ูพุฑุฏุงุฒุด ูุฑ V1 ุฏุงุฎู UPLOAD ุจู ุตูุฑุช ุฌุฏุงฺฏุงูู
  - [ ] ุฐุฎุฑู ููู ุฑฺฉูุฑุฏูุง
  - [ ] ุชุณุช ุจุง ุฏุณุชฺฏุงู ุขููุงู

- [ ] **CONFIG (Configuration Response)** - ูพุงุณุฎ ุชูุธูุงุช
  - [ ] ุงุถุงูู ฺฉุฑุฏู ุจููฺฉ CONFIG ุฏุฑ `gps_receiver.py`
  - [ ] ููุท log ฺฉุฑุฏู (ูุงุฒ ุจู ุฐุฎุฑู ูุณุช)
  - [ ] ุจุฑุฑุณ OK/ERR

---

### 2. ุงุตูุงุญ ููุทู ุฐุฎุฑูโุณุงุฒ LocationData
- [ ] **ุงุตูุงุญ ุฐุฎุฑู HB ุจุฏูู LocationData ูุจู**
  - [ ] ุชุบุฑ ูุฏู: `latitude` ู `longitude` nullable
  - [ ] ุฐุฎุฑู HB ุญุช ุจุง lat/lon = NULL
  - [ ] ุงุถุงูู ฺฉุฑุฏู ููุฏ `packet_type` ุจู LocationData (ุงุฎุชุงุฑ)

- [ ] **ูพุงุฏูโุณุงุฒ Smart Sampling Strategy**
  - [ ] Event-based: ุฐุฎุฑู ุฏุฑ ุชุบุฑุงุช ููู
    - [ ] ุชุบุฑ ูุถุนุช (Moving โ Stopped)
    - [ ] ูุงุตูู > 50 ูุชุฑ
    - [ ] ุชุบุฑ ุณุฑุนุช > 10 km/h
  - [ ] Time-based: ุฐุฎุฑู ุจุฑ ุงุณุงุณ ุฒูุงู
    - [ ] Moving: ูุฑ 30 ุซุงูู
    - [ ] Stopped: ูุฑ 10 ุฏููู
    - [ ] HB: ููุดู
  - [ ] ุงุถุงูู ฺฉุฑุฏู ููุฏ `last_save_time` ุจู Device model
  - [ ] ุชุณุช ุจุง ุฏุณุชฺฏุงู ูุงูุน

- [ ] **ุจูุจูุฏ ููุทู ุญุฐู RawGpsData**
  - [x] ุญุฐู ููุท ุงฺฏุฑ LocationData ุฐุฎุฑู ุดุฏ
  - [ ] ุงุถุงูู ฺฉุฑุฏู status ุจู RawGpsData: 'processed', 'failed', 'pending'
  - [ ] Job ุจุฑุง ูพุงฺฉุณุงุฒ RawGpsData ูุฏู (> 7 ุฑูุฒ)

---

### 3. ุงุฑุณุงู ุงุทูุงุนุงุช Signal ุจู WebSocket
- [ ] **ุงุถุงูู ฺฉุฑุฏู GPS Signal ุจู broadcast**
  - [ ] ุงุณุชุฎุฑุงุฌ `satellites` ุงุฒ parsed_data
  - [ ] ุงุถุงูู ฺฉุฑุฏู ุจู `device_data` ุฏุฑ `broadcast_device_update`
  - [ ] ุจูโุฑูุฒุฑุณุงู frontend ุจุฑุง ููุงุด ุชุนุฏุงุฏ ูุงููุงุฑูโูุง

- [ ] **ุงุถุงูู ฺฉุฑุฏู GSM Signal ุจู broadcast**
  - [ ] ุงุณุชุฎุฑุงุฌ `signal_strength` ุงุฒ parsed_data (ููุท ุฏุฑ HB)
  - [ ] ุงุถุงูู ฺฉุฑุฏู ุจู `device_data`
  - [ ] ููุงุด ุขฺฉูู ุณฺฏูุงู ุฏุฑ ุงุทูุงุนุงุช ุฏุณุชฺฏุงู

- [ ] **ุงุถุงูู ฺฉุฑุฏู Voltage/Battery ุจู broadcast**
  - [ ] ุงุณุชุฎุฑุงุฌ `voltage` ู `battery_level`
  - [ ] ููุงุด ุฏุฑุตุฏ/ููุชุงฺ ุจุงุชุฑ ุฑู ููุดู

---

### 4. ุงุตูุงุญ ููุทู ุชุบุฑ ูุถุนุช (DeviceState)
- [ ] **ุณุงุฏูโุณุงุฒ ุชุดุฎุต Moving โ Stopped**
  - [ ] ุจุฑุฑุณ ูุฌุฏุฏ ุดุฑุท "3 ุณุฑุนุช ุตูุฑ ูุชูุงู"
  - [ ] ุฏุฑ ูุธุฑ ฺฏุฑูุชู ACC status
  - [ ] ุชุณุช ุจุง ุณูุงุฑููุง ูุฎุชูู

- [ ] **ุณุงุฏูโุณุงุฒ ุชุดุฎุต Stopped โ Moving**
  - [ ] ุจุฑุฑุณ ูุฌุฏุฏ ุดุฑุท "ุณุฑุนุช > 0 ู ูุงุตูู > 5m"
  - [ ] ุชุณุช ุจุง ุญุฑฺฉุชโูุง ฺฉูุชุงู

- [ ] **ุงุถุงูู ฺฉุฑุฏู ูุถุนุชโูุง ุฌุฏุฏ**
  - [ ] Idle: ุฏุณุชฺฏุงู ุฑูุดู ุงูุง ุจุฏูู GPS
  - [ ] Offline: ุฏุณุชฺฏุงู ุขููุงู (ุจุฏูู HB > 10 ุฏููู)
  - [ ] Parking: ูพุงุฑฺฉ ุดุฏู ุจุง ACC ุฎุงููุด

---

## ๐ก ุงูููุช ูุชูุณุท (Medium Priority)

### 5. ุจูุจูุฏ ุฏฺฉูุฏุฑูุง
- [ ] **ุชุณุช ฺฉุงูู JT808 Decoder**
  - [ ] ุชูุธู ุฏุณุชฺฏุงู JT808
  - [ ] ุจุฑุฑุณ ุณุงุฎุชุงุฑ parsed_data
  - [ ] ุชฺฉูู ุจููฺฉ JT808 ุฏุฑ gps_receiver.py
  - [ ] ุชุณุช ุฐุฎุฑูโุณุงุฒ

- [ ] **ุชุณุช GT06 Decoder**
  - [ ] ุจุฑุฑุณ ููุฏูุง ููุฌูุฏ
  - [ ] ุงุทููุงู ุงุฒ ุฐุฎุฑู ุตุญุญ

- [ ] **ุจูุจูุฏ HQ Decoder**
  - [ ] ุจุฑุฑุณ FLAGS_MAP ุจุง ูุณุชูุฏุงุช ุฏุณุชฺฏุงู
  - [ ] ุชุณุช ููู 32 ุจุช flags
  - [ ] ุงุถุงูู ฺฉุฑุฏู ุชูุถุญุงุช ุจุดุชุฑ

---

### 6. ูุฏุฑุช ุฏุชุงุจุณ
- [ ] **ุงุตูุงุญ ูุฏู LocationData**
  - [ ] `latitude` ู `longitude` nullable
  - [ ] ุงุถุงูู ฺฉุฑุฏู index ุจู `created_at`
  - [ ] ุงุถุงูู ฺฉุฑุฏู index ุจู `device_id + created_at`
  - [ ] Migration

- [ ] **ุงุฌุงุฏ ูุฏู Alert**
  ```python
  class Alert(models.Model):
      device = ForeignKey(Device)
      alert_type = CharField(choices=[...])
      severity = CharField(choices=['low', 'medium', 'high', 'critical'])
      message = TextField()
      location_data = ForeignKey(LocationData, null=True)
      is_acknowledged = BooleanField(default=False)
      created_at = DateTimeField(auto_now_add=True)
  ```

- [ ] **ุจูููโุณุงุฒ Query ูุง**
  - [ ] ุงุณุชูุงุฏู ุงุฒ `select_related` ู `prefetch_related`
  - [ ] ุงุถุงูู ฺฉุฑุฏู cache ุจุฑุง ุขุฎุฑู ูููุนุช
  - [ ] Pagination ุจุฑุง ูุณุช LocationData

---

### 7. Map Matching
- [ ] **ุจุฑุฑุณ ุฏูุช Map Matching**
  - [ ] ููุงุณู ูุฎุชุตุงุช ุงุตู ู ุชุตุญุญ ุดุฏู
  - [ ] ุชุณุช ุฏุฑ ูุณุฑูุง ูุฎุชูู
  - [ ] ุจูููโุณุงุฒ ุชุนุฏุงุฏ ููุงุท (ุงูุงู 10 ููุทู)

- [ ] **ูุฏุฑุช ุฎุทุงูุง API ูุดุงู**
  - [ ] Retry logic
  - [ ] Fallback ุจู ูุฎุชุตุงุช ุงุตู
  - [ ] Cache ุจุฑุง ูุณุฑูุง ุชฺฉุฑุงุฑ

---

### 8. WebSocket ู Real-time Updates
- [ ] **ุจูุจูุฏ broadcast_device_update**
  - [ ] ุงุถุงูู ฺฉุฑุฏู ููู ููุฏูุง ููู
  - [ ] ูุดุฑุฏูโุณุงุฒ ุฏุงุฏู ุจุฑุง ฺฉุงูุด bandwidth
  - [ ] Throttling ุจุฑุง ุฌููฺฏุฑ ุงุฒ spam

- [ ] **ุงุถุงูู ฺฉุฑุฏู Alert Broadcast**
  - [ ] ุงุฑุณุงู ููุฑ SOS
  - [ ] ุงุฑุณุงู ุขูุงุฑูโูุง ููู
  - [ ] ุตุฏุง ุงุนูุงู ุฏุฑ frontend

---

## ๐ข ุงูููุช ูพุงู (Low Priority)

### 9. ฺฏุฒุงุฑุดโฺฏุฑ ู ุชุญูู
- [ ] **ุงุฌุงุฏ ุณุณุชู ฺฏุฒุงุฑุดโฺฏุฑ**
  - [ ] ฺฏุฒุงุฑุด ูุณุฑ (ุงุฒ ุชุงุฑุฎ X ุชุง Y)
  - [ ] ฺฏุฒุงุฑุด ุชูููโูุง
  - [ ] ฺฏุฒุงุฑุด ุณุฑุนุช
  - [ ] ฺฏุฒุงุฑุด HB (voltage/signal trends)
  - [ ] Export ุจู PDF/Excel

- [ ] **Dashboard ุขูุงุฑ**
  - [ ] ฺฉู ูุณุงูุช ุท ุดุฏู
  - [ ] ูุงูฺฏู ุณุฑุนุช
  - [ ] ุฒูุงู ุญุฑฺฉุช/ุชููู
  - [ ] ูููุฏุงุฑ voltage ู signal

---

### 10. ุงููุช ู Performance
- [ ] **ุจูุจูุฏ Security Checks**
  - [ ] Rate limiting per device (ูู ููุท per IP)
  - [ ] Whitelist/Blacklist ุจุฑุง IMEI
  - [ ] ุชุดุฎุต ูพฺฉุชโูุง ูุดฺฉูฺฉ

- [ ] **ุจูููโุณุงุฒ Performance**
  - [ ] Connection pooling ุจุฑุง ุฏุชุงุจุณ
  - [ ] Async processing ุจุฑุง ูพฺฉุชโูุง ุณูฺฏู
  - [ ] Monitoring ู logging ุจูุชุฑ

- [ ] **Backup ู Recovery**
  - [ ] Automated daily backup
  - [ ] Retention policy (ูฺฏูโุฏุงุฑ ฺูุฏ ูุงูู)
  - [ ] Disaster recovery plan

---

### 11. UI/UX ุจูุจูุฏูุง
- [ ] **ููุดู**
  - [ ] ููุงุด ูุณุฑ (polyline)
  - [ ] ููุชุฑ ุจุฑ ุงุณุงุณ ุชุงุฑุฎ
  - [ ] Clustering ุจุฑุง ุฏุณุชฺฏุงูโูุง ุฒุงุฏ
  - [ ] ููุงุด ุขูุงุฑูโูุง ุฑู ููุดู

- [ ] **ุงุทูุงุนุงุช ุฏุณุชฺฏุงู**
  - [ ] ููุงุด ุชุนุฏุงุฏ ูุงููุงุฑูโูุง
  - [ ] ููุงุด ูุฏุฑุช ุณฺฏูุงู GSM
  - [ ] ููุงุด ููุชุงฺ/ุจุงุชุฑ
  - [ ] ููุงุด ูุถุนุช (Moving/Stopped/Idle/Offline)

---

### 12. ูุณุชูุฏุงุช
- [ ] **API Documentation**
  - [ ] ูุณุชูุฏุณุงุฒ WebSocket API
  - [ ] ูุณุชูุฏุณุงุฒ REST API
  - [ ] ูููููโูุง ุงุณุชูุงุฏู

- [ ] **ุฑุงูููุง ฺฉุงุฑุจุฑ**
  - [ ] ูุญูู ุชูุธู ุฏุณุชฺฏุงู
  - [ ] ูุญูู ูุดุงูุฏู ฺฏุฒุงุฑุดโูุง
  - [ ] ุนุจโุงุจ ูุดฺฉูุงุช ุฑุงุฌ

- [ ] **ุฑุงูููุง ุชูุณุนูโุฏููุฏู**
  - [ ] ูุนูุงุฑ ุณุณุชู
  - [ ] ูุญูู ุงุถุงูู ฺฉุฑุฏู ุฏฺฉูุฏุฑ ุฌุฏุฏ
  - [ ] ูุญูู ุงุถุงูู ฺฉุฑุฏู ููุน ูพฺฉุช ุฌุฏุฏ

---

## ๐ ุงุฏุฏุงุดุชโูุง

### ูฺฉุงุช ููู:
- ููุดู ูุจู ุงุฒ ุชุบุฑุงุช ุจุฒุฑฺฏุ backup ุจฺฏุฑุฏ
- ุชุณุชโูุง ูุงุญุฏ ุจุฑุง ุชูุงุจุน ููู ุจููุณุฏ
- ฺฉุฏ ุฑุง ูุณุชูุฏ ฺฉูุฏ
- ุงุฒ git ุจุฑุง version control ุงุณุชูุงุฏู ฺฉูุฏ

### ุงูููุชโุจูุฏ ูุนู:
1. ูพุงุฏูโุณุงุฒ V0, SOS, V2 (ุจุฑุง ูพูุดุด ฺฉุงูู ูพุฑูุชฺฉู)
2. ุงุตูุงุญ ููุทู ุฐุฎุฑูโุณุงุฒ (Smart Sampling)
3. ุงุฑุณุงู signal ุจู WebSocket
4. ุจูุจูุฏ ุชุดุฎุต ูุถุนุช

---

**ุขุฎุฑู ุจูโุฑูุฒุฑุณุงู:** 2025-12-05  
**ูุณุฎู:** 1.0
